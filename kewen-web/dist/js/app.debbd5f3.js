(function(){"use strict";var e={2496:function(e,t,a){var s=a(144),r=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view",{key:e.key})],1)},l=[],o={name:"App",computed:{key(){return this.$route.path}}},i=o,n=a(1001),c=(0,n.Z)(i,r,l,!1,null,null,null),u=c.exports,p=a(8345),d=function(){var e=this,t=e._self._c;return t("div",[t("el-form",{ref:"loginForm",staticClass:"loginContainer",attrs:{rules:e.rules,model:e.loginForm}},[t("el-avatar",{attrs:{src:"../assets/logo.png",fit:"contain",id:"loginLogo"}}),t("h3",{staticClass:"loginTitle"},[e._v("用户登录")]),t("el-form-item",{attrs:{label:"学号",prop:"kw_stuid","label-width":"80px"}},[t("el-input",{attrs:{type:"text",placeholder:"请输入学号","auto-complete":"false"},model:{value:e.loginForm.kw_stuid,callback:function(t){e.$set(e.loginForm,"kw_stuid",t)},expression:"loginForm.kw_stuid"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"kw_password","label-width":"80px"}},[t("el-input",{attrs:{type:"password",placeholder:"请输入密码","auto-complete":"false"},model:{value:e.loginForm.kw_password,callback:function(t){e.$set(e.loginForm,"kw_password",t)},expression:"loginForm.kw_password"}})],1),t("el-form-item",{attrs:{prop:"kw_captcha"}},[t("el-input",{attrs:{type:"text",placeholder:"请输入验证码",size:"normal","auto-complete":"false",id:"kw_captchaipt"},model:{value:e.loginForm.kw_captcha,callback:function(t){e.$set(e.loginForm,"kw_captcha",t)},expression:"loginForm.kw_captcha"}}),t("img",{staticClass:"captchaimg",attrs:{src:e.captchasrc,alt:"无法查看"},on:{click:function(t){return t.stopPropagation(),e.getCaptchaSrc()}}})],1),t("router-link",{attrs:{to:{name:"register"},id:"registerLink"}},[e._v("立即注册")]),t("el-form-item",[t("el-button",{staticClass:"login-btn",attrs:{type:"primary"},on:{click:e.submitLogin}},[e._v("登录")])],1)],1)],1)},h=[],m={name:"login",created(){this.getCaptchaSrc()},data(){return{captchasrc:"",loginForm:{kw_stuid:"",kw_password:"",kw_captcha:""},rules:{kw_stuid:[{required:!0,messgae:"请输入学号",trigger:"bulr"}],kw_password:[{required:!0,message:"请输入密码",trigger:"blur"}],kw_captcha:[{required:!0,message:"请输入验证码",trigger:"blur"}]}}},methods:{getCaptchaSrc(){const e=this;this.$ajax({url:"https://www.cdukewen.top/captcha",method:"get"}).then((t=>{const a=t.data;if(1==a.code){let t=a.data;e.captchasrc=t.src}}))},async submitLogin(){const{data:e}=await this.$ajax.post("https://www.cdukewen.top/login",this.loginForm);1==e.code?(this.$msg.success(e.msg),console.log(e.data.token),window.sessionStorage.setItem("token",e.data.token),this.$router.replace("/home")):2==e.code&&(console.log(e.msg),this.$msg.error(e.msg))}}},w=m,_=(0,n.Z)(w,d,h,!1,null,null,null),v=_.exports,g=function(){var e=this,t=e._self._c;return t("div",[t("el-form",{ref:"registerForm",staticClass:"registerContainer",attrs:{rules:e.rules,model:e.registerForm}},[t("el-avatar",{attrs:{src:"../assets/logo.png",fit:"contain",id:"registerLogo"}}),t("h3",{staticClass:"registerTitle"},[e._v("用户注册")]),t("el-form-item",{attrs:{label:"用户名",prop:"kw_name","label-width":"80px"}},[t("el-input",{attrs:{type:"text",placeholder:"请输入用户名"},model:{value:e.registerForm.kw_name,callback:function(t){e.$set(e.registerForm,"kw_name",t)},expression:"registerForm.kw_name"}})],1),t("el-form-item",{attrs:{label:"学号",prop:"kw_stuid","label-width":"80px"}},[t("el-input",{attrs:{type:"text",placeholder:"请输入学号","auto-complete":"false"},model:{value:e.registerForm.kw_stuid,callback:function(t){e.$set(e.registerForm,"kw_stuid",t)},expression:"registerForm.kw_stuid"}})],1),t("el-form-item",{attrs:{label:"电话号码",prop:"kw_phone","label-width":"80px"}},[t("el-input",{attrs:{type:"text",placeholder:"请输入电话号码","auto-complete":"false"},model:{value:e.registerForm.kw_phone,callback:function(t){e.$set(e.registerForm,"kw_phone",t)},expression:"registerForm.kw_phone"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"kw_password","label-width":"80px"}},[t("el-input",{attrs:{type:"password",placeholder:"请输入密码","auto-complete":"false"},model:{value:e.registerForm.kw_password,callback:function(t){e.$set(e.registerForm,"kw_password",t)},expression:"registerForm.kw_password"}})],1),t("el-form-item",{attrs:{label:"确认密码",prop:"kw_passwordnot","label-width":"80px"}},[t("el-input",{attrs:{type:"password",placeholder:"请再次确认密码","auto-complete":"false"},model:{value:e.registerForm.kw_passwordnot,callback:function(t){e.$set(e.registerForm,"kw_passwordnot",t)},expression:"registerForm.kw_passwordnot"}})],1),t("el-form-item",{attrs:{prop:"kw_puriview",label:"邀请码","label-width":"80px"}},[t("el-input",{attrs:{type:"text",placeholder:"请输入验证码",size:"normal","auto-complete":"false"},model:{value:e.registerForm.kw_purview,callback:function(t){e.$set(e.registerForm,"kw_purview",t)},expression:"registerForm.kw_purview"}})],1),t("a",{attrs:{href:"",id:"loginLink"},on:{click:e.loginLink}},[e._v("立即登录")]),t("el-form-item",[t("el-button",{staticClass:"register-btn",attrs:{type:"primary"},on:{click:e.submitRigister}},[e._v("注册")])],1)],1)],1)},f=[],b=(a(7658),{name:"register",created(){},data(){return{registerCaptchasrc:"",registerForm:{kw_stuid:"",kw_name:"",kw_password:"",kw_passwordnot:"",kw_phone:"",kw_purview:""},rules:{kw_name:[{required:!0,messgae:"请输入用户名",trigger:"bulr"}],kw_stuid:[{required:!0,messgae:"请输入学号",trigger:"bulr"}],kw_password:[{required:!0,message:"请输入密码",trigger:"blur"}],kw_passwordnot:[{required:!0,message:"请再次输入密码",trigger:"blur"}],kw_phone:[{required:!0,message:"请输入电话号码",trigger:"blur"}],kw_purview:[{required:!0,message:"请输入邀请码",trigger:"blur"}]}}},methods:{async submitRigister(){console.log("register");const{data:e}=await this.$ajax.post("https://www.cdukewen.top/register",this.registerForm);console.log(e),1==e.code&&this.$message.success(e.msg),2==e.code&&this.$message.error(e.msg)},loginLink(){this.$router.push("/")}}}),k=b,y=(0,n.Z)(k,g,f,!1,null,null,null),C=y.exports,x=function(){var e=this,t=e._self._c;return t("div",[t("el-container",{staticClass:"all"},[t("el-header",{staticClass:"header"},[t("el-row",[t("el-col",{staticClass:"avaterAndName",attrs:{span:"4"}},[t("el-avatar",{attrs:{id:"useravater",src:e.useravatarSrc}}),t("el-link",{attrs:{id:"kw_name",underline:!1},on:{click:e.toPerson}},[e._v(e._s(e.kw_name))])],1),t("el-col",{attrs:{span:"16"}},[t("el-menu",{staticClass:"navmenu",attrs:{mode:"horizontal","active-text-color":"#409EFF","default-active":"home",router:!0,"background-color":"transparent"}},[t("el-menu-item",{staticClass:"navmenu-item",attrs:{index:"doucment"}},[e._v(" 部门资料 ")]),t("el-menu-item",{staticClass:"navmenu-item",attrs:{index:"home"}},[e._v(" 生活印记 ")]),t("el-menu-item",{staticClass:"navmenu-item",attrs:{index:"activity"}},[e._v(" 部门活动 ")])],1)],1),t("el-col",{attrs:{span:"4"}},[t("router-link",{attrs:{to:{name:"upload"}}},[t("el-button",{staticClass:"upload-btn",attrs:{type:"success",round:""}},[e._v("上传")])],1)],1)],1)],1),t("el-main",[t("el-row",{staticClass:"depInfo",attrs:{gutter:"50"}},[t("el-col",{staticClass:"depInfoTxt",attrs:{span:"12"}},[t("h1",[e._v("科文部")]),t("p",[e._v(" 科文部是成都大学计算机学院学生会的一个部门, IT来袭&UP风暴大赛是计算机学院与电子信息与电 气工程学院共同举办的比赛，其中包括PPT制作大赛 ，短视频制作大赛，LOGO设计大赛和装机大赛，一共四个子比赛 kewen.com建立的目的是为了部门人员便于查阅往年资料。")])]),t("el-col",{attrs:{span:"12"}},[t("div",{staticClass:"depInfoImg"},[t("img",{staticClass:"togetherPhoto",attrs:{src:e.togetherPhoto,alt:"图片显示失败"},on:{click:function(t){return t.stopPropagation(),e.getTogetherPhoto()}}})])])],1),t("el-row",{staticClass:"depMbrInfo"},[t("el-row",{staticClass:"depMbrInfo-header"},[t("h1",[e._v("部员简介")]),t("el-select",{staticClass:"yearSelect",attrs:{placeholder:"请选择年份"},on:{change:e.setMbrYear},model:{value:e.depMbrYear,callback:function(t){e.depMbrYear=t},expression:"depMbrYear"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{value:e.value}})})),1)],1),t("el-row",{staticClass:"depMbrInfo-main",attrs:{gutter:"20"}},[t("el-col",{staticClass:"depMbrInfo-main-img",attrs:{span:"10"}},[t("el-card",[t("div",{staticClass:"depMbrChange"},[t("el-carousel",{attrs:{trigger:"click",autoplay:e.autoplay,"indicator-position":"none","initial-index":e.depMbrIMgIdx},on:{change:e.depMbrChange}},e._l(e.yearDepMbr,(function(a){return t("el-carousel-item",{key:a},[t("img",{attrs:{id:"depMbrPicture",src:e.depMbrPicture}})])})),1),t("p",{staticClass:"depMbrName"},[e._v(" "+e._s(e.depMbr.name))])],1)])],1),t("el-col",{staticClass:"depMbrInfo-intro",attrs:{span:"10"}},[t("el-card",[t("p",{staticClass:"depMbrName"},[e._v("姓名："),t("span",[e._v(e._s(e.depMbr.name))])]),t("p",{staticClass:"depMbrClass"},[e._v("专业班级:"),t("span",[e._v(e._s(e.depMbr.class))])]),t("p",{staticClass:"depMbrPosition"},[e._v("身份:"),t("span",[e._v(e._s(e.depMbr.purview))])]),t("p",{staticClass:"depMbrTel"},[e._v("电话: "),t("span",[e._v(e._s(e.depMbr.tel))])]),t("p",{staticClass:"depMbrIntro"},[e._v("简介："),t("span",[e._v(e._s(e.depMbr.messgae))])]),t("div",{staticClass:"depMbrfooter"},[t("i",{staticClass:"el-icon-user"})])])],1)],1)],1),t("el-row",{staticClass:"depLifeImg"},[t("el-row",{staticClass:"depLifeImg-header"},[t("h1",[e._v("生活照片")]),t("el-button",{attrs:{type:" primary "}},[e._v("更多")]),t("el-select",{staticClass:"yearSelect",attrs:{placeholder:"请选择年份"},on:{change:e.setYear},model:{value:e.lifePhotoYear,callback:function(t){e.lifePhotoYear=t},expression:"lifePhotoYear"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{value:e.value}})})),1)],1),t("div",{staticClass:"depLifeImg-main"},e._l(e.lifePhotoSrc,(function(e,a){return t("div",{key:a},[t("img",{attrs:{src:e.img,alt:""}})])})),0)],1)],1),t("el-footer",{staticClass:"webInfo"},[t("el-row",{staticClass:"webInfo-header"},[t("h1",[e._v("C O N T A C T")]),t("h1",[e._v("hello@kewen.com")])]),t("el-row",{staticClass:"webInfo-main",attrs:{gutter:"50"}},[t("el-col",{attrs:{span:"7"}},[t("p",[e._v("ADDRESS")]),t("p",[e._v("四川省成都市龙泉驿区成都大学计算机学院分团委学生会科文部")])]),t("el-col",{attrs:{span:"7"}},[t("p",[e._v("EMAIL")]),t("p",[e._v("cdukewenbu@163.com")]),t("p",[e._v("cdukewen@163.com")])]),t("el-col",{attrs:{span:"7"}},[t("p",[e._v("JOIN")]),t("p",[e._v("weibo@成都大学计算机学院-科文部")])])],1)],1)],1)],1)},P=[],M=(a(541),{name:"home",watch:{$route(e,t){console.log("watch"),e.path="/home",t.path="/person",this.$router.go(0)}},created(){this.getTogetherPhoto(),this.getusername(),this.getAvatar(),this.getNowYear(),this.initPicture()},data(){return{depMbrPicture:"",useravatarSrc:"",kw_name:"fox",depMbrYear:"",yearDepMbr:[],autoplay:!1,depMbrIMgIdx:0,options:[],depMbr:[{name:""},{class:""},{purview:""},{tel:""},{messgae:""},{picture:""}],togetherPhoto:"",lifePhotoYear:"2022",lifePhotoSrc:[{img:""},{img:""},{img:""},{img:""},{img:""},{img:""}]}},methods:{getNowYear(){var e=new Date,t=e.getFullYear();for(let a=2020;a<=t;a++)this.options.unshift({value:a})},initPicture(){const e=this;this.$ajax({url:"https://www.cdukewen.top/Life/User_show",method:"post",data:{user_year:"2020"}}).then((t=>{const a=t.data;1==a.code&&(e.yearDepMbr=a.data,console.log(this.yearDepMbr),this.depMbr.name=this.yearDepMbr[this.depMbrIMgIdx].kw_name,this.depMbr.class=this.yearDepMbr[this.depMbrIMgIdx].kw_class,this.depMbr.purview=this.yearDepMbr[this.depMbrIMgIdx].kw_purview,this.depMbr.tel=this.yearDepMbr[this.depMbrIMgIdx].kw_phone,this.depMbr.messgae=this.yearDepMbr[this.depMbrIMgIdx].kw_message,this.depMbr.picture="https://www.cdukewen.top/"+this.yearDepMbr[this.depMbrIMgIdx].User_picture_src,this.depMbrPicture=this.depMbr.picture,console.log("第"+this.depMbrIMgIdx+"个"+this.depMbr.picture))})),this.lifePhotoYear=2020,this.$ajax({url:"https://www.cdukewen.top/picture_src",method:"post"}).then((t=>{const a=t.data;1==a.code&&(console.log(a.data.src["6"][this.lifePhotoYear]),e.lifePhotoSrc[0].img=a.data.src["6"][this.lifePhotoYear][0].picture_src,e.lifePhotoSrc[1].img=a.data.src["6"][this.lifePhotoYear][1].picture_src,e.lifePhotoSrc[2].img=a.data.src["6"][this.lifePhotoYear][2].picture_src,e.lifePhotoSrc[3].img=a.data.src["6"][this.lifePhotoYear][3].picture_src,e.lifePhotoSrc[4].img=a.data.src["6"][this.lifePhotoYear][4].picture_src,e.lifePhotoSrc[5].img=a.data.src["6"][this.lifePhotoYear][5].picture_src)}))},getTogetherPhoto(){const e=this;var t=new Date;const a=t.getFullYear().toString();console.log(a),this.$ajax({url:"https://www.cdukewen.top/User/together_picture_src",method:"get"}).then((t=>{const a=t.data;1==a.code&&(e.togetherPhoto=a.data.src[0].picture_src)}))},setYear(e){if(e){const t=this;console.log(e),this.$ajax({url:"https://www.cdukewen.top/picture_src",method:"post"}).then((e=>{const a=e.data;1==a.code&&(console.log(a.data.src["6"][this.lifePhotoYear]),t.lifePhotoSrc[0].img=a.data.src["6"][this.lifePhotoYear][0].picture_src,t.lifePhotoSrc[1].img=a.data.src["6"][this.lifePhotoYear][1].picture_src,t.lifePhotoSrc[2].img=a.data.src["6"][this.lifePhotoYear][2].picture_src,t.lifePhotoSrc[3].img=a.data.src["6"][this.lifePhotoYear][3].picture_src,t.lifePhotoSrc[4].img=a.data.src["6"][this.lifePhotoYear][4].picture_src,t.lifePhotoSrc[5].img=a.data.src["6"][this.lifePhotoYear][5].picture_src)})),console.log(t.lifePhotoSrc[0].img)}else console.log(0)},setMbrYear(e){const t=this;console.log(e),this.$ajax({url:"https://www.cdukewen.top/Life/User_show",method:"post",data:{user_year:e}}).then((e=>{const a=e.data;1==a.code&&(t.yearDepMbr=a.data,this.depMbr.name=this.yearDepMbr[this.depMbrIMgIdx].kw_name,this.depMbr.class=this.yearDepMbr[this.depMbrIMgIdx].kw_class,this.depMbr.purview=this.yearDepMbr[this.depMbrIMgIdx].kw_purview,this.depMbr.tel=this.yearDepMbr[this.depMbrIMgIdx].kw_phone,this.depMbr.messgae=this.yearDepMbr[this.depMbrIMgIdx].kw_message,this.depMbr.picture="https://www.cdukewen.top/"+this.yearDepMbr[this.depMbrIMgIdx].User_picture_src,this.depMbrPicture=this.depMbr.picture,console.log("第"+this.depMbrIMgIdx+"个"+this.depMbr.picture))}))},depMbrChange(e){console.log(e),this.depMbrIMgIdx=e,this.depMbr.name=this.yearDepMbr[this.depMbrIMgIdx].kw_name,this.depMbr.class=this.yearDepMbr[this.depMbrIMgIdx].kw_class,this.depMbr.purview=this.yearDepMbr[this.depMbrIMgIdx].kw_purview,this.depMbr.tel=this.yearDepMbr[this.depMbrIMgIdx].kw_phone,this.depMbr.messgae=this.yearDepMbr[this.depMbrIMgIdx].kw_message,console.log(e),console.log("https://www.cdukewen.top/"+this.yearDepMbr[e].User_picture_src),this.depMbr.picture="https://www.cdukewen.top/"+this.yearDepMbr[this.depMbrIMgIdx].User_picture_src,this.depMbrPicture=this.depMbr.picture,console.log("第"+this.depMbrIMgIdx+"个"+this.depMbr.picture)},getusername(){this.$ajax({url:"https://www.cdukewen.top/User/index",method:"get"}).then((e=>{const t=e.data;let a=t.data;this.kw_name=a.user_data.kw_name}))},getAvatar(){this.$ajax.get("https://www.cdukewen.top/User/User_Picture_Src").then((e=>{const t=e.data;this.useravatarSrc="https://www.cdukewen.top"+t.data.kw_picture_src}))},toPerson(){this.$router.push("/person")}}}),I=M,F=(0,n.Z)(I,x,P,!1,null,null,null),S=F.exports,$=function(){var e=this,t=e._self._c;return t("div",[t("el-container",{staticClass:"all"},[t("el-header",{staticClass:"header"},[t("el-row",[t("el-col",{staticClass:"avaterAndName",attrs:{span:"4"}},[t("el-avatar",{attrs:{id:"useravater",src:e.useravatarSrc}}),t("el-link",{attrs:{id:"kw_name",underline:!1},on:{click:e.toPerson}},[e._v(e._s(e.kw_name))])],1),t("el-col",{attrs:{span:"16"}},[t("el-menu",{staticClass:"navmenu",attrs:{mode:"horizontal","active-text-color":"#409EFF","default-active":"activity",router:!0,"background-color":"transparent"}},[t("el-menu-item",{staticClass:"navmenu-item",attrs:{index:"doucment"}},[e._v(" 部门资料 ")]),t("el-menu-item",{staticClass:"navmenu-item",attrs:{index:"home"}},[e._v(" 生活印记 ")]),t("el-menu-item",{staticClass:"navmenu-item",attrs:{index:"activity"}},[e._v(" 部门活动 ")])],1)],1),t("el-col",{attrs:{span:"4"}},[t("router-link",{attrs:{to:{name:"upload"}}},[t("el-button",{staticClass:"upload-btn",attrs:{type:"success",round:""}},[e._v("上传")])],1)],1)],1)],1),t("el-main",[t("el-row",{staticClass:"carousel-item",attrs:{gutter:"20"}},[t("el-row",{staticClass:"carouser-ppt"},[t("div",{staticClass:"carouserHeader"},[t("h1",{staticClass:"picTitle"},[e._v("PPT制作大赛")]),t("el-select",{staticClass:"yearSelect",attrs:{placeholder:"请选择年份"},on:{change:e.pptYear},model:{value:e.pptValue,callback:function(t){e.pptValue=t},expression:"pptValue"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{value:e.value}})})),1)],1),t("el-carousel",{attrs:{interval:5e3,arrow:"always",type:"card",height:"300px"}},e._l(e.pptPicture,(function(e){return t("el-carousel-item",{key:e},[t("img",{staticClass:"picture",attrs:{src:e,alt:""}})])})),1)],1),t("el-row",{staticClass:"carouser-logo"},[t("div",{staticClass:"carouserHeader"},[t("h1",{staticClass:"picTitle"},[e._v("短视频制作大赛")]),t("el-select",{staticClass:"yearSelect",attrs:{placeholder:"请选择年份"},on:{change:e.videoYear},model:{value:e.videoValue,callback:function(t){e.videoValue=t},expression:"videoValue"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{value:e.value}})})),1)],1),t("el-carousel",{attrs:{interval:5e3,arrow:"always",type:"card",height:"300px"}},e._l(e.videoPicture,(function(e){return t("el-carousel-item",{key:e},[t("img",{staticClass:"picture",attrs:{src:e,alt:""}})])})),1)],1),t("el-row",{staticClass:"carouser-video"},[t("div",{staticClass:"carouserHeader"},[t("h1",{staticClass:"picTitle"},[e._v("LOGO制作大赛")]),t("el-select",{staticClass:"yearSelect",attrs:{placeholder:"请选择年份"},on:{change:e.logoYear},model:{value:e.logoValue,callback:function(t){e.logoValue=t},expression:"logoValue"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{value:e.value}})})),1)],1),t("el-carousel",{attrs:{interval:5e3,arrow:"always",type:"card",height:"300px"}},e._l(e.logoPicture,(function(e){return t("el-carousel-item",{key:e},[t("img",{staticClass:"picture",attrs:{src:e,alt:""}})])})),1)],1),t("el-row",{staticClass:"carouser-ceremony"},[t("div",{staticClass:"carouserHeader"},[t("h1",{staticClass:"picTitle"},[e._v("装机大赛")]),t("el-select",{staticClass:"yearSelect",attrs:{placeholder:"请选择年份"},on:{change:e.computerYear},model:{value:e.computerValue,callback:function(t){e.computerValue=t},expression:"computerValue"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{value:e.value}})})),1)],1),t("el-carousel",{attrs:{interval:5e3,arrow:"always",type:"card",height:"300px"}},e._l(e.computerPicture,(function(e){return t("el-carousel-item",{key:e},[t("img",{staticClass:"picture",attrs:{src:e,alt:""}})])})),1)],1),t("el-row",{staticClass:"carouser-ceremony"},[t("div",{staticClass:"carouserHeader"},[t("h1",{staticClass:"picTitle"},[e._v("闭幕式")]),t("el-select",{staticClass:"yearSelect",attrs:{placeholder:"请选择"},on:{change:e.endYear},model:{value:e.endValue,callback:function(t){e.endValue=t},expression:"endValue"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{value:e.value}})})),1)],1),t("el-carousel",{attrs:{interval:5e3,arrow:"always",type:"card",height:"300px"}},e._l(e.endPicture,(function(e){return t("el-carousel-item",{key:e},[t("img",{staticClass:"picture",attrs:{src:e,alt:""}})])})),1)],1)],1)],1),t("el-footer",{staticClass:"webInfo"},[t("el-row",{staticClass:"webInfo-header"},[t("h1",[e._v("C O N T A C T")]),t("h1",[e._v("hello@kewen.com")])]),t("el-row",{staticClass:"webInfo-main",attrs:{gutter:"50"}},[t("el-col",{attrs:{span:"7"}},[t("p",[e._v("ADDRESS")]),t("p",[e._v("四川省成都市龙泉驿区成都大学计算机学院分团委学生会科文部")])]),t("el-col",{attrs:{span:"7"}},[t("p",[e._v("EMAIL")]),t("p",[e._v("cdukewenbu@163.com")]),t("p",[e._v("cdukewen@163.com")])]),t("el-col",{attrs:{span:"7"}},[t("p",[e._v("JOIN")]),t("p",[e._v("weibo@成都大学计算机学院-科文部")])])],1)],1)],1)],1)},D=[],Y={name:"activity",mounted(){this.getusername(),this.getAvatar(),this.getNowYear(),this.initpicture()},data(){return{useravatarSrc:"",pptValue:"",videoValue:"",logoValue:"",computerValue:"",endValue:"",kw_name:"fox",options:[],value:"",pptPicture:[],setPptPicture:"",videoPicture:[],setVideoPicture:"",setLogoPicture:"",setComputerPicture:"",setendPicture:"",logoPicture:[],computerPicture:[],endPicture:[],headerPicture:[]}},methods:{getNowYear(){var e=new Date,t=e.getFullYear();for(let a=2020;a<=t;a++)this.options.unshift({value:a})},getusername(){this.$ajax({url:"https://www.cdukewen.top/User/index",method:"get"}).then((e=>{const t=e.data;let a=t.data;this.kw_name=a.user_data.kw_name}))},getAvatar(){this.$ajax.get("https://www.cdukewen.top/User/User_Picture_Src").then((e=>{const t=e.data;this.useravatarSrc="https://www.cdukewen.top"+t.data.kw_picture_src}))},initpicture(){this.$ajax({url:"https://www.cdukewen.top/picture_src",method:"post"}).then((e=>{const t=e.data.data.src[2][2020];let a=t;for(let s=0;s<4;s++)this.pptPicture.push(a[s].picture_src)})),this.$ajax({url:"https://www.cdukewen.top/picture_src",method:"post"}).then((e=>{const t=e.data.data.src[4][2020];let a=t;for(let s=0;s<4;s++)this.videoPicture.push(a[s].picture_src)})),this.$ajax({url:"https://www.cdukewen.top/picture_src",method:"post"}).then((e=>{const t=e.data.data.src[3][2020];let a=t;for(let s=0;s<4;s++)this.logoPicture.push(a[s].picture_src)})),this.$ajax({url:"https://www.cdukewen.top/picture_src",method:"post"}).then((e=>{const t=e.data.data.src[5][2020];let a=t;for(let s=0;s<4;s++)this.computerPicture.push(a[s].picture_src)})),this.$ajax({url:"https://www.cdukewen.top/picture_src",method:"post"}).then((e=>{const t=e.data.data.src[1][2020];let a=t;for(let s=0;s<4;s++)this.endPicture.push(a[s].picture_src)})),this.$ajax({url:"http://www.cdukewen.top/rotation_together_picture_show",method:"get"}).then((e=>{const t=e.data.data;console.log(t)}))},pptYear(e){this.setPptPicture=e,this.$ajax({url:"https://www.cdukewen.top/picture_src",method:"post"}).then((t=>{const a=t.data.data.src[2][e];let s=a;for(let e=0;e<4;e++)this.pptPicture.push(s[e].picture_src)}))},videoYear(e){this.setVideoPicture=e,this.$ajax({url:"https://www.cdukewen.top/picture_src",method:"post"}).then((t=>{const a=t.data.data.src[4][e];let s=a;for(let e=0;e<4;e++)this.videoPicture.push(s[e].picture_src)}))},logoYear(e){this.setLogoPicture=e,this.$ajax({url:"https://www.cdukewen.top/picture_src",method:"post"}).then((t=>{const a=t.data.data.src[3][e];let s=a;for(let e=0;e<4;e++)this.logoPicture.push(s[e].picture_src)}))},computerYear(e){this.setComputerPicture=e,this.$ajax({url:"https://www.cdukewen.top/picture_src",method:"post"}).then((t=>{const a=t.data.data.src[5][e];let s=a;for(let e=0;e<4;e++)this.computerPicture.push(s[e].picture_src)}))},endYear(e){this.setendPicture=e,this.$ajax({url:"https://www.cdukewen.top/picture_src",method:"post"}).then((t=>{const a=t.data.data.src[1][e];let s=a;for(let e=0;e<4;e++)this.endPicture.push(s[e].picture_src)}))},toPerson(){this.$router.push("/person")}}},T=Y,L=(0,n.Z)(T,$,D,!1,null,null,null),O=L.exports,j=function(){var e=this,t=e._self._c;return t("div",[t("el-container",{staticClass:"all"},[t("el-header",{staticClass:"header"},[t("el-row",[t("el-col",{staticClass:"avaterAndName",attrs:{span:"4"}},[t("el-avatar",{attrs:{id:"useravater",src:e.useravatarSrc}}),t("el-link",{attrs:{id:"kw_name",underline:!1},on:{click:e.toPerson}},[e._v(e._s(e.kw_name))])],1),t("el-col",{attrs:{span:"16"}},[t("el-menu",{staticClass:"navmenu",attrs:{mode:"horizontal","active-text-color":"#409EFF","default-active":"doucment",router:!0,"background-color":"transparent"}},[t("el-menu-item",{staticClass:"navmenu-item",attrs:{index:"doucment"}},[e._v(" 部门资料 ")]),t("el-menu-item",{staticClass:"navmenu-item",attrs:{index:"home"}},[e._v(" 生活印记 ")]),t("el-menu-item",{staticClass:"navmenu-item",attrs:{index:"activity"}},[e._v(" 部门活动 ")])],1)],1),t("el-col",{attrs:{span:"4"}},[t("router-link",{attrs:{to:{name:"upload"}}},[t("el-button",{staticClass:"upload-btn",attrs:{type:"success",round:""}},[e._v("上传")])],1)],1)],1)],1),t("el-main",[t("div",{staticClass:"searchInput"},[t("div",{staticClass:"doucmentName"},[e._v(" 资料名称： "),t("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.doucmentNameInput,callback:function(t){e.doucmentNameInput=t},expression:"doucmentNameInput"}})],1),t("div",{staticClass:"doucmentType"},[t("span",[e._v("资料类型：")]),t("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.doucmentTypeInput,callback:function(t){e.doucmentTypeInput=t},expression:"doucmentTypeInput"}},e._l(e.documentType,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("div",{staticClass:"contributorName"},[e._v(" 上传人名字： "),t("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.contributorNameInput,callback:function(t){e.contributorNameInput=t},expression:"contributorNameInput"}})],1),t("div",{staticClass:"contributorNbr"},[e._v(" 上传者学号： "),t("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.contributorNbrInput,callback:function(t){e.contributorNbrInput=t},expression:"contributorNbrInput"}})],1),t("div",{staticClass:"search-btn btn"},[t("el-button",{attrs:{type:"primary",round:""},on:{click:function(t){return e.getDoucment()}}},[e._v("搜索")])],1),t("div",{staticClass:"reser-btn btn"},[t("el-button",{attrs:{type:"primary",round:""},on:{click:function(t){return t.stopPropagation(),e.resetSearch()}}},[e._v("重置")])],1)]),t("div",{staticClass:"searchResult"},[t("el-table",{staticClass:"resultTable",attrs:{data:e.tableData}},[t("el-table-column",{staticClass:"tableCol",attrs:{prop:"file_time",label:"上传日期"}}),t("el-table-column",{staticClass:"tableCol",attrs:{prop:"file_stu_name",label:"上传人姓名"}}),t("el-table-column",{staticClass:"tableCol",attrs:{prop:"file_stu_stuid",label:"上传人学号"}}),t("el-table-column",{staticClass:"tableCol",attrs:{prop:"file_name",label:"文件名称"}}),t("el-table-column",{staticClass:"tableCol",attrs:{prop:"file_type",label:"文件类型",id:"fiel_typeCol"}}),t("el-table-column",{staticClass:"tableCol",attrs:{prop:"file_id",label:"文件id"}}),t("el-table-column",{staticClass:"tableCol",attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.download(a.row.file_id)}}},[e._v("下载")])]}}])})],1)],1)]),t("el-footer",{staticClass:"webInfo"},[t("el-row",{staticClass:"webInfo-header"},[t("h1",[e._v("C O N T A C T")]),t("h1",[e._v("hello@kewen.com")])]),t("el-row",{staticClass:"webInfo-main",attrs:{gutter:"50"}},[t("el-col",{attrs:{span:"7"}},[t("p",[e._v("ADDRESS")]),t("p",[e._v("四川省成都市龙泉驿区成都大学计算机学院分团委学生会科文部")])]),t("el-col",{attrs:{span:"7"}},[t("p",[e._v("EMAIL")]),t("p",[e._v("cdukewenbu@163.com")]),t("p",[e._v("cdukewen@163.com")])]),t("el-col",{attrs:{span:"7"}},[t("p",[e._v("JOIN")]),t("p",[e._v("weibo@成都大学计算机学院-科文部")])])],1)],1)],1)],1)},N=[],A={name:"document",created(){this.getusername(),this.getAvatar()},data(){return{useravatarSrc:"",documentType:[{value:"选择类型",label:"选择类型"},{value:"IT来袭闭幕式",label:"IT来袭闭幕式 "},{value:"PPT制作",label:"PPT制作"},{value:"LOGO设计",label:"LOGO设计"},{value:"短视频制作",label:"短视频制作"},{value:"装机",label:"装机"},{value:"生活",label:"生活"},{value:"部门事务",label:"部门事务"},{value:"学习资料",label:"学习资料"}],doucmentNameInput:"",doucmentTypeInput:"选择类型",contributorNameInput:"",contributorNbrInput:"",tableData:[],kw_name:"fox",FileSrc:""}},methods:{getusername(){this.$ajax({url:"https://www.cdukewen.top/User/index",method:"get"}).then((e=>{const t=e.data;let a=t.data;this.kw_name=a.user_data.kw_name,this.kw_stuid=a.user_data.kw_stuid,this.kw_class=a.user_data.kw_class,this.kw_phone=a.user_data.kw_phone,this.kw_message=a.user_data.kw_message}))},getAvatar(){this.$ajax.get("https://www.cdukewen.top/User/User_Picture_Src").then((e=>{const t=e.data;this.useravatarSrc="https://www.cdukewen.top"+t.data.kw_picture_src,console.log(this.useravatarSrc)}))},async getDoucment(){console.log(this.doucmentTypeInput);const{data:e}=await this.$ajax({url:"https://www.cdukewen.top/UserSearch",method:"post",data:{file_name:this.doucmentNameInput,file_type:this.doucmentTypeInput,kw_name:this.contributorNameInput,kw_stuid:this.contributorNbrInput}});1==e.code?(this.$message.success(e.msg),this.tableData=e.data.file_data):this.$message.error(e.msg)},resetSearch(){this.doucmentNameInput="",this.contributorNameInput="",this.contributorNbrInput="",this.tableData=[],this.$message.success("重置成功")},toPerson(){console.log("toPerson"),this.$router.push("/person")},download(e){e=e.toString(),console.log(e),this.$ajax({url:"https://www.cdukewen.top/User_Download_Src",method:"post",data:{file_id:e}}).then((e=>{const t=e.data;this.FileSrc=t.data.file_src,console.log(this.FileSrc);const a="https://www.cdukewen.top"+this.FileSrc;window.open(a,"_blank")}))},toPerson(){this.$router.push("/person")}}},U=A,V=(0,n.Z)(U,j,N,!1,null,null,null),z=V.exports,R=function(){var e=this,t=e._self._c;return t("div",[t("el-container",{staticClass:"all"},[t("el-header",{staticClass:"header"},[t("el-row",[t("el-col",{staticClass:"avaterAndName",attrs:{span:"4",id:"userinfo"}},[t("el-avatar",{attrs:{id:"useravater",src:e.useravatarSrc}}),t("p",{attrs:{id:"kw_name"},on:{click:function(t){return t.stopPropagation(),e.getusername()}}},[e._v(e._s(e.kw_name))])],1),t("el-col",{attrs:{span:"16"}},[t("el-menu",{staticClass:"navmenu",attrs:{mode:"horizontal","active-text-color":"#67C23A",router:!0,"background-color":"transparent"}},[t("el-menu-item",{staticClass:"navmenu-item",attrs:{index:"doucment"}},[e._v(" 部门资料 ")]),t("el-menu-item",{staticClass:"navmenu-item",attrs:{index:"home"}},[e._v(" 生活印记 ")]),t("el-menu-item",{staticClass:"navmenu-item",attrs:{index:"activity"}},[e._v(" 部门活动 ")])],1)],1),t("el-col",{attrs:{span:"4"}},[t("router-link",{attrs:{to:{name:"upload"}}},[t("el-button",{staticClass:"upload-btn",attrs:{type:"success",round:""}},[e._v("上传")])],1)],1)],1)],1),t("el-main",{attrs:{id:"userInfoDisplay"}},[t("div",{staticClass:"tab"},[t("el-tabs",{attrs:{"tab-position":e.tabPosition,stretch:"true"}},[t("el-tab-pane",{attrs:{label:"用户信息"}},[t("div",{staticClass:"personUserinfo"},[t("div",{staticClass:"useravatar"},[t("div",{attrs:{id:"useravatarShow"},on:{click:function(t){return t.stopPropagation(),e.getAvatar()}}}),t("el-upload",{ref:"upload",staticClass:"upload",attrs:{action:"string","file-list":e.avatarList,"auto-upload":!1,"http-request":e.uploadAvatar,"on-change":e.handleChangeAvatar,"on-preview":e.handlePreviewAvatar,"on-remove":e.handleRemoveAvatar,multiple:"flase"}},[t("el-button",{staticClass:"selectBtn",attrs:{slot:"trigger",size:"small",type:"primary"},on:{click:e.delAvatar},slot:"trigger"},[e._v("选取文件")]),t("el-button",{staticClass:"uploadBtn",attrs:{type:"primary",size:"small"},on:{click:e.OnsubmitAvatar}},[e._v("上传")])],1)],1),t("div",{staticClass:"userinfo",on:{click:function(t){return t.stopPropagation(),e.getusername()}}},[t("p",{staticClass:"username"},[e._v("用户名："+e._s(e.kw_name))]),t("p",{staticClass:"userNbr"},[e._v("学号："+e._s(e.kw_stuid))]),t("p",{staticClass:"userClass"},[e._v("专业班级:"+e._s(e.kw_class))]),t("p",{staticClass:"usertel"},[e._v("电话:"+e._s(e.kw_phone))]),t("p",{staticClass:"userPurview"},[e._v("职位:"+e._s(e.kw_purview))]),t("p",{staticClass:"userintro"},[e._v("个人简介："+e._s(e.kw_message))])])])]),t("el-tab-pane",{attrs:{label:"信息修改"}},[t("div",{staticClass:"ifrModify"},[t("h1",[e._v("修改个人信息")]),t("el-form",{ref:"modifyForm",model:{value:e.modifyForm,callback:function(t){e.modifyForm=t},expression:"modifyForm"}},[t("el-form-item",{attrs:{label:"用户名","label-width":"80px"}},[t("el-input",{attrs:{type:"text",placeholder:"请输入用户名"},model:{value:e.modifyForm.kw_name,callback:function(t){e.$set(e.modifyForm,"kw_name",t)},expression:"modifyForm.kw_name"}})],1),t("el-form-item",{attrs:{label:"专业班级","label-width":"80px"}},[t("el-input",{attrs:{type:"text",placeholder:"请输入专业班级"},model:{value:e.modifyForm.kw_class,callback:function(t){e.$set(e.modifyForm,"kw_class",t)},expression:"modifyForm.kw_class"}})],1),t("el-form-item",{attrs:{label:"电话号码","label-width":"80px"}},[t("el-input",{attrs:{type:"text",placeholder:"请输入电话号码"},model:{value:e.modifyForm.kw_phone,callback:function(t){e.$set(e.modifyForm,"kw_phone",t)},expression:"modifyForm.kw_phone"}})],1),t("el-form-item",{attrs:{label:"个人简介","label-width":"80px"}},[t("el-input",{attrs:{type:"text",placeholder:"请输入留言"},model:{value:e.modifyForm.kw_message,callback:function(t){e.$set(e.modifyForm,"kw_message",t)},expression:"modifyForm.kw_message"}})],1),t("el-form-item",{attrs:{label:"密码","label-width":"80px"}},[t("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.modifyForm.kw_password,callback:function(t){e.$set(e.modifyForm,"kw_password",t)},expression:"modifyForm.kw_password"}})],1),t("el-form-item",{attrs:{label:"确认密码","label-width":"80px"}},[t("el-input",{attrs:{type:"password",placeholder:"请再次输入密码"},model:{value:e.modifyForm.kw_passwordnot,callback:function(t){e.$set(e.modifyForm,"kw_passwordnot",t)},expression:"modifyForm.kw_passwordnot"}})],1),t("el-from-item",[t("el-button",{attrs:{primary:"",type:"success"},on:{click:function(t){return e.userModify()}}},[e._v("确定")]),t("el-button",{attrs:{peimary:"",type:"danger"},on:{click:function(t){return e.cancelModify()}}},[e._v("取消")])],1)],1)],1)]),t("el-tab-pane",{attrs:{label:"管理资料"}},[t("div",{staticClass:"manageDoc"},[t("div",{staticClass:"searchDoc"},[t("div",{staticClass:"file_nameInput"},[e._v(" 文件名称："),t("el-input",{attrs:{placeholder:"请输入文件名称"},model:{value:e.Searchfile_name,callback:function(t){e.Searchfile_name=t},expression:"Searchfile_name"}})],1),t("div",{staticClass:"file_typeInput"},[t("span",[e._v("资料类型：")]),t("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.file_typeInput,callback:function(t){e.file_typeInput=t},expression:"file_typeInput"}},e._l(e.fileType,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]),t("div",{attrs:{id:"maybeOrmaynot"}},[t("div",{staticClass:"kw_nameInput"},[e._v(" 上传人姓名："),t("el-input",{attrs:{placeholder:"请输入上传人姓名"},model:{value:e.Searchkw_name,callback:function(t){e.Searchkw_name=t},expression:"Searchkw_name"}})],1),t("div",{staticClass:"kw_stuidInput"},[e._v(" 上传人学号："),t("el-input",{attrs:{placeholder:"请输入上传人学号"},model:{value:e.Searchkw_stuid,callback:function(t){e.Searchkw_stuid=t},expression:"Searchkw_stuid"}})],1)]),t("div",{staticClass:"personBtn"},[t("div",{staticClass:"search-btn btn"},[t("el-button",{attrs:{type:"primary",round:""},on:{click:function(t){return e.getFile()}}},[e._v("搜索")])],1),t("div",{staticClass:"reser-btn btn"},[t("el-button",{attrs:{type:"primary",round:""},on:{click:function(t){return t.stopPropagation(),e.resetSearch()}}},[e._v("重置")])],1)]),t("div",{staticClass:"searchResult"},[t("el-table",{staticClass:"resultTable",attrs:{data:e.fielTableData,fit:e.fit}},[t("el-table-column",{staticClass:"tableCol",attrs:{prop:"file_stu_name",label:"上传人姓名"}}),t("el-table-column",{staticClass:"tableCol",attrs:{prop:"file_stu_stuid",label:"上传人学号"}}),t("el-table-column",{staticClass:"tableCol",attrs:{prop:"file_name",label:"文件名称"}}),t("el-table-column",{staticClass:"tableCol",attrs:{prop:"file_type",label:"文件类型"}}),t("el-table-column",{staticClass:"tableCol",attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.del(a.row.file_id)}}},[e._v("删除")])]}}])})],1)],1)])]),t("el-tab-pane",{attrs:{label:"生成邀请码"}},[t("el-form",[t("el-form-item",{attrs:{label:"部长邀请码数量"},model:{value:e.purviewForm,callback:function(t){e.purviewForm=t},expression:"purviewForm"}},[t("el-input",{attrs:{type:"text",placeholder:"请输入"},model:{value:e.purviewForm.leader,callback:function(t){e.$set(e.purviewForm,"leader",t)},expression:"purviewForm.leader"}})],1),t("el-form-item",{attrs:{label:"干事邀请码数量"}},[t("el-input",{attrs:{type:"number",placeholder:"请输入"},model:{value:e.purviewForm.staff,callback:function(t){e.$set(e.purviewForm,"staff",t)},expression:"purviewForm.staff"}})],1),t("el-form-item",[t("el-button",{attrs:{primary:"",type:"success"},on:{click:function(t){return e.purview()}}},[e._v("生成")])],1)],1),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.purviewData}},[t("el-table-column",{attrs:{prop:"code_id",label:"序号",width:"80"}}),t("el-table-column",{attrs:{prop:"invitation_code",label:"邀请码",width:"300"}}),t("el-table-column",{attrs:{prop:"identity",label:"身份",width:"80"}})],1)],1),t("el-tab-pane",{attrs:{label:"上传合照"}},[t("h1",[e._v("上传合照")]),t("el-form",[t("el-form-item",{attrs:{label:"合照年份"}},[t("el-input",{attrs:{type:"text"},model:{value:e.togetherYear,callback:function(t){e.togetherYear=t},expression:"togetherYear"}})],1)],1),t("el-upload",{ref:"upload",staticClass:"upload",attrs:{action:"string","file-list":e.fileList,"auto-upload":!1,"http-request":e.uploadFile,"on-change":e.handleChange,"on-preview":e.handlePreview,"on-remove":e.handleRemove,multiple:"multiple"}},[t("el-button",{staticClass:"selectBtn",attrs:{slot:"trigger",size:"small",type:"primary"},on:{click:e.delFile},slot:"trigger"},[e._v("选取文件")]),t("el-button",{staticClass:"uploadBtn",attrs:{type:"primary",size:"small"},on:{click:e.FirstOnsubmit}},[e._v("上传")])],1)],1)],1)],1)])],1)],1)},q=[],E={name:"person",watch:{$route(){this.getusername(),this.getAvatar()}},mounted(){this.getusername(),this.getAvatar()},data(){return{useravatarSrc:"",modifyForm:{kw_class:"1",kw_message:"1",kw_phone:"18111433593",kw_name:"langshi",kw_password:"111111",kw_passwordnot:"111111"},purviewForm:{leader:"",staff:""},tabPosition:"left",kw_name:"fox",kw_stuid:"",kw_class:"",kw_phone:"",kw_message:"",kw_purview:"",purviewData:[],fileList:[],repeatFileList:[],avatarList:[],multiple:!1,formData:"",togetherYear:"",RepeattogetherYear:"",fileType:[{value:"选择类型",label:"选择类型"},{value:"IT来袭闭幕式",label:"IT来袭闭幕式 "},{value:"PPT制作",label:"PPT制作"},{value:"LOGO设计",label:"LOGO设计"},{value:"短视频制作",label:"短视频制作"},{value:"装机",label:"装机"},{value:"生活",label:"生活"},{value:"部门事务",label:"部门事务"},{value:"学习资料",label:"学习资料"}],file_typeInput:"选择类型",Searchfile_name:"",Searchkw_name:"",Searchkw_stuid:"",fielTableData:[],fit:!1}},methods:{delFile(){this.fileList=[],console.log(this.togetherYear)},handleChange(e,t){this.fileList=t,console.log(this.fileList)},repeatandleChange(e,t){this.repeatFileList=t,console.log(this.fileList)},uploadFile(e){this.formData.append("together_picture_file",e.file)},handleRemove(e,t){console.log(e,t)},handlePreview(e){console.log(e)},FirstOnsubmit(){let e=new FormData;e.append("together_picture_file",this.fileList[0].raw),console.log(e),e.append("together_picture_year",this.togetherYear),this.$ajax.post("https://www.cdukewen.top/User/together_picture_upload",e).then((e=>{const t=e.data;1==t.code&&(this.$message.success(t.msg),console.log(t.msg))}))},delAvatar(){this.avatarList=[]},handleChangeAvatar(e,t){this.avatarList=t,console.log(this.avatarList)},uploadAvatar(e){this.formData.append("together_picture_file",e.file)},handleRemoveAvatar(e,t){console.log(e,t)},handlePreviewAvatar(e){console.log(e)},OnsubmitAvatar(){let e=new FormData;e.append("kw_file",this.avatarList[0].raw),console.log(e),this.$ajax.post("https://www.cdukewen.top/User/User_picture",e).then((e=>{const t=e.data;1==t.code&&(this.$message.success(t.msg),console.log(t.msg))}))},getAvatar(){this.$ajax.get("https://www.cdukewen.top/User/User_Picture_Src").then((e=>{const t=e.data,a="https://www.cdukewen.top"+t.data.kw_picture_src;console.log(a);var s=document.getElementById("useravatarShow");s.style.backgroundImage="url("+a+")",this.useravatarSrc=a}))},getusername(){var e=document.getElementById("maybeOrmaynot");"干事"==this.kw_purview?e.style.display="none":e.style.display="flex",this.$ajax({url:"https://www.cdukewen.top/User/index",method:"get"}).then((e=>{const t=e.data;let a=t.data;this.kw_name=a.user_data.kw_name,this.kw_stuid=a.user_data.kw_stuid,this.kw_class=a.user_data.kw_class,this.kw_phone=a.user_data.kw_phone,this.kw_purview=a.user_data.kw_purview,this.kw_message=a.user_data.kw_message}))},async userModify(){const{data:e}=await this.$ajax.post("https://www.cdukewen.top/User/User_update",this.modifyForm);1==e.code?this.$message.success(e.msg):2==e.code&&this.$message.error(e.msg+"错误原因"+e.data.error)},cancelModify(){this.modifyForm.kw_class="",this.modifyForm.kw_name="",this.modifyForm.kw_message="",this.modifyForm.kw_password="",this.modifyForm.kw_password="",this.modifyForm.kw_passwordnot=""},purview(){this.$ajax({url:"https://www.cdukewen.top/User/invitation_code",method:"post",data:{minister_id:this.purviewForm.leader,officer_id:this.purviewForm.staff}}).then((e=>{const t=e.data;1==t.code&&(console.log(t.data.invitation_code),this.purviewData=t.data.invitation_code)}))},async getFile(){if("部长"==this.kw_purview){const{data:e}=await this.$ajax({url:"https://www.cdukewen.top/UserSearch",method:"post",data:{file_name:this.Searchfile_name,file_type:this.file_typeInput,kw_name:this.Searchkw_name,kw_stuid:this.Searchkw_stuid}});1==e.code?(this.$message.success(e.msg),this.fielTableData=e.data.file_data):this.$message.error(e.msg)}else if("干事"==this.kw_purview){const{data:e}=await this.$ajax({url:"https://www.cdukewen.top/User/Search",method:"post",data:{file_name:this.Searchfile_name,file_type:this.file_typeInput,kw_name:this.kw_name,kw_stuid:this.kw_stuid}});1==e.code?(this.$message.success(e.msg),this.fielTableData=e.data.file_data):this.$message.error(e.msg)}},del(e){console.log(e),e=e.toString(),this.$ajax({url:"https://www.cdukewen.top/User_Delete",method:"post",data:{file_id:e}}).then((e=>{const t=e.data;console.log(t),1==t.code&&this.$message.success(t.msg)}))}}},Z=E,B=(0,n.Z)(Z,R,q,!1,null,null,null),G=B.exports,H=function(){var e=this,t=e._self._c;return t("div",[t("el-container",{staticClass:"all"},[t("el-header",{staticClass:"uploadHeader"},[e._v("上传文件")]),t("el-main",{staticClass:"main"},[t("div",{staticClass:"uploadFile"},[e._v(" 上传文件类型: "),t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.fileValue,callback:function(t){e.fileValue=t},expression:"fileValue"}},e._l(e.fileOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("div",{staticClass:"upload"},[t("el-upload",{ref:"upload",attrs:{action:"string","file-list":e.fileList,"auto-upload":!1,"http-request":e.uploadFile,"on-change":e.handleChange,"on-preview":e.handlePreview,"on-remove":e.handleRemove,multiple:"multiple"}},[t("el-button",{staticClass:"selectBtn",attrs:{slot:"trigger",size:"small",type:"primary"},on:{click:e.delFile},slot:"trigger"},[e._v("选取文件")]),t("el-button",{staticClass:"uploadBtn",attrs:{type:"primary",size:"small"},on:{click:e.onSubmitFile}},[e._v("上传")])],1)],1),t("div",{staticClass:"uploadPic"},[e._v(" 上传图片类型： "),t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.picValue,callback:function(t){e.picValue=t},expression:"picValue"}},e._l(e.picOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),t("el-select",{staticClass:"yearSelect",attrs:{placeholder:"请选择年份"},on:{change:e.setPicYear},model:{value:e.picYear,callback:function(t){e.picYear=t},expression:"picYear"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{value:e.value}})})),1)],1),t("div",{staticClass:"upload"},[t("el-upload",{ref:"upload",attrs:{action:"string","file-list":e.picList,"auto-upload":!1,"http-request":e.uploadPic,"on-change":e.handleChangePic,"on-preview":e.handlePreviewPic,"on-remove":e.handleRemovePic,multiple:"multiple"}},[t("el-button",{staticClass:"selectBtn",attrs:{slot:"trigger",size:"small",type:"primary"},on:{click:e.delPic},slot:"trigger"},[e._v("选取文件")]),t("el-button",{staticClass:"uploadBtn",attrs:{type:"primary",size:"small"},on:{click:e.onSubmitPic}},[e._v("上传")])],1)],1)])],1)],1)},J=[],K={created(){this.getNowYear()},data(){return{options:[{value:"0",label:"文件"},{value:"1",label:"图片"}],fileValue:"选择类型",picValue:"选择类型",picYear:"",fileOptions:[{value:"IT来袭闭幕式",label:"IT来袭闭幕式"},{value:"PPT制作",label:"PPT制作"},{value:"LOGO设计",label:"LOGO设计"},{value:"短视频制作",label:"短视频制作"},{value:"装机",label:"装机"},{value:"生活",label:"生活"},{value:"部门事务",label:"部门事务"},{value:"学习资料",label:"学习资料"},{value:"选择类型",label:"选择类型"},{value:"合照",label:"合照"}],picOptions:[{value:"IT来袭闭幕式",label:"IT来袭闭幕式"},{value:"PPT制作",label:"PPT制作"},{value:"LOGO设计",label:"LOGO设计"},{value:"短视频制作",label:"短视频制作"},{value:"装机",label:"装机"},{value:"生活",label:"生活"},{value:"部门事务",label:"部门事务"},{value:"学习资料",label:"学习资料"},{value:"选择类型",label:"选择类型"}],fileList:[],picList:[],multiple:!0,formData:"",formDataPic:"",file_type:"",picture_type:"",options:[]}},methods:{getNowYear(){var e=new Date,t=e.getFullYear();for(let a=2020;a<=t;a++)this.options.unshift({value:a})},delFile(){this.fileList=[],console.log(this.file_type)},handleChange(e,t){this.fileList=t,console.log(this.fileList)},uploadFile(e){this.formData.append("together_picture_file",e.file)},handleRemove(e,t){console.log(e,t)},handlePreview(e){console.log(e)},onSubmitFile(){let e=new FormData;for(let t=0;t<this.fileList.length;t++)e.append("kw_file",this.fileList[t].raw);console.log(e),this.file_type=this.fileValue,console.log(this.file_type),e.append("file_type",this.file_type),this.$ajax.post("https://www.cdukewen.top/User_Upload",e).then((e=>{const t=e.data;1==t.code&&(this.$message.success(t.msg),console.log(t.msg))}))},delPic(){this.picList=[]},handleChangePic(e,t){this.picList=t,console.log(this.picList)},uploadPic(e){this.formData.append("together_picture_file",e.file)},handleRemovePic(e,t){console.log(e,t)},handlePreviewPic(e){console.log(e)},setPicYear(e){console.log("hello"),this.picYear=e,console.log(this.picYear)},onSubmitPic(){let e=new FormData;for(let t=0;t<this.picList.length;t++)e.append("picture_file",this.picList[t].raw);console.log(e),this.picture_type=this.picValue,console.log(this.picture_type),e.append("picture_type",this.picture_type),e.append("picture_year",this.picYear),this.$ajax.post("https://www.cdukewen.top/picture_upload",e).then((e=>{const t=e.data;1==t.code&&(this.$message.success(t.msg),console.log(t.msg))}))}}},Q=K,W=(0,n.Z)(Q,H,J,!1,null,null,null),X=W.exports;s["default"].use(p.ZP);const ee=[{path:"/",name:"login",component:v},{path:"/home",name:"home",component:S},{path:"/register",name:"register",component:C},{path:"/activity",name:"activity",component:O},{path:"/doucment",name:"doucment",component:z},{path:"/person",name:"person",component:G},{path:"/upload",name:"upload",component:X}],te=new p.ZP({mode:"hash",routes:ee});var ae=te,se=a(4720),re=a.n(se),le=a(196);le.ZP.interceptors.request.use((e=>(e.headers.Authorization=window.sessionStorage.getItem("token"),e))),s["default"].prototype.$ajax=le.ZP,s["default"].prototype.$msg=se.Message,s["default"].config.productionTip=!1,s["default"].use(re()),new s["default"]({router:ae,render:e=>e(u)}).$mount("#app"),ae.beforeEach(((e,t,a)=>{"/register"===e.path&&a();const s=window.sessionStorage.getItem("token");s&&""!=s&&null!=s&&void 0!=s||a("/register"),a()}))}},t={};function a(s){var r=t[s];if(void 0!==r)return r.exports;var l=t[s]={exports:{}};return e[s](l,l.exports,a),l.exports}a.m=e,function(){var e=[];a.O=function(t,s,r,l){if(!s){var o=1/0;for(u=0;u<e.length;u++){s=e[u][0],r=e[u][1],l=e[u][2];for(var i=!0,n=0;n<s.length;n++)(!1&l||o>=l)&&Object.keys(a.O).every((function(e){return a.O[e](s[n])}))?s.splice(n--,1):(i=!1,l<o&&(o=l));if(i){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[s,r,l]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var r,l,o=s[0],i=s[1],n=s[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(n)var u=n(a)}for(t&&t(s);c<o.length;c++)l=o[c],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(u)},s=self["webpackChunkkewen_web"]=self["webpackChunkkewen_web"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(2496)}));s=a.O(s)})();